{"version":3,"file":"app~6b882012.bundle.js","mappings":"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","sources":["webpack://restaurant-page2/./src/routers/urlPath.js","webpack://restaurant-page2/./src/routers/route.js","webpack://restaurant-page2/./src/scripts/app.js","webpack://restaurant-page2/./src/scripts/index.js","webpack://restaurant-page2/./src/utils/buttonEvent.js","webpack://restaurant-page2/./src/utils/data-source.js","webpack://restaurant-page2/./src/utils/favoriteEvent.js"],"sourcesContent":["const urlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split('/');\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/') +\r\n    (splitedUrl.id ? '/:id' : '') +\r\n    (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n  },\r\n};\r\n\r\nexport default urlParser;\r\n","import homePage from '../pages/homePage';\r\nimport favoritePage from '../pages/favoritePage';\r\nimport detailPage from '../pages/detailPage';\r\nconst routes = {\r\n  '/': homePage,\r\n  '/home': homePage,\r\n  '/favorite': favoritePage,\r\n  '/detail/:id': detailPage,\r\n};\r\n\r\nexport default routes;\r\n","/* eslint-disable require-jsdoc */\r\nimport buttonEvent from '../utils/buttonEvent';\r\nimport urlParser from '../routers/urlPath';\r\nimport routes from '../routers/route';\r\nfunction createButtonEvent({button, drawer, mainContent}) {\r\n  buttonEvent({button, drawer, mainContent});\r\n}\r\nasync function renderPage(mainContent) {\r\n  const url = urlParser.parseActiveUrlWithCombiner();\r\n  const page = routes[url];\r\n  mainContent.innerHTML = await page.render();\r\n  await page.afterRender();\r\n}\r\nexport {createButtonEvent, renderPage};\r\n","import 'regenerator-runtime';\r\nimport '../styles/style.css';\r\nimport swRegister from '../utils/sw-register';\r\nimport {createButtonEvent, renderPage} from './app';\r\nwindow.addEventListener('hashchange', () => {\r\n  renderPage(document.querySelector('#mainContent'));\r\n});\r\nwindow.addEventListener('load', () => {\r\n  renderPage(document.querySelector('#mainContent'));\r\n  createButtonEvent({\r\n    button: document.querySelector('#hamburgerButton'),\r\n    drawer: document.querySelector('#navigationDrawer'),\r\n    mainContent: document.querySelector('#mainContent'),\r\n  });\r\n  swRegister();\r\n});\r\nconst skipLink=document.querySelector('.skip-link');\r\nskipLink.addEventListener('keypress', (event)=>{\r\n  if (event.key==='Enter') {\r\n    event.preventDefault();\r\n    document.querySelector('#mainContent').focus();\r\n  }\r\n});\r\n","/* eslint-disable require-jsdoc */\r\n/* eslint-disable no-unused-vars */\r\nfunction buttonEvent({button, drawer, mainContent}) {\r\n  button.addEventListener('click', (event)=>{\r\n    toggleDrawer(event, drawer);\r\n  });\r\n  mainContent.addEventListener('click', (event)=>{\r\n    removeDrawer(event, drawer);\r\n  });\r\n};\r\nfunction toggleDrawer(event, drawer) {\r\n  event.stopPropagation();\r\n  return drawer.classList.toggle('open');\r\n};\r\nfunction removeDrawer(event, drawer) {\r\n  event.stopPropagation();\r\n  drawer.classList.remove('open');\r\n};\r\nexport default buttonEvent;\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable require-jsdoc */\r\nasync function homePageContent() {\r\n  const restaurantData=await fetch(`https://restaurant-api.dicoding.dev/list`);\r\n  const response=await restaurantData.json();\r\n  return await response.restaurants;\r\n};\r\nasync function detailPageContent(id) {\r\n  const restaurantDetailData=await fetch(`https://restaurant-api.dicoding.dev/detail/${id}`);\r\n  const response=await restaurantDetailData.json();\r\n  return await response.restaurant;\r\n};\r\nasync function postReviews(data) {\r\n  const postReview=await fetch(`https://restaurant-api.dicoding.dev/review`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n  const review=await postReview.json();\r\n  return data;\r\n}\r\nexport {homePageContent, detailPageContent, postReviews};\r\n","/* eslint-disable max-len */\r\nimport {createAddFavoriteBtnTemplate, createRemoveFavoriteBtnTemplate} from './template';\r\nconst favoriteButtonPresenter = {\r\n  async init({favoriteButtonContainer, favoriteRestaurant, restaurant}) {\r\n    this._favoriteButtonContainer = favoriteButtonContainer;\r\n    this._restaurant = restaurant;\r\n    this._favoriteRestaurant= favoriteRestaurant;\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const {id} = this._restaurant;\r\n\r\n    if (await this._checkRestaurant(id)) {\r\n      this._renderRemoveFavorite();\r\n    } else {\r\n      this._renderAddFavorite();\r\n    }\r\n  },\r\n\r\n  async _checkRestaurant(id) {\r\n    const restaurant = await this._favoriteRestaurant.getRestaurant(id);\r\n    return !!restaurant;\r\n  },\r\n\r\n  _renderAddFavorite() {\r\n    this._favoriteButtonContainer.innerHTML = createAddFavoriteBtnTemplate();\r\n    const favButton = document.querySelector('#addButton');\r\n    favButton.addEventListener('click', async () => {\r\n      await this._favoriteRestaurant.putRestaurant(this._restaurant);\r\n      return this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderRemoveFavorite() {\r\n    this._favoriteButtonContainer.innerHTML = createRemoveFavoriteBtnTemplate();\r\n    const favButton = document.querySelector('#removeButton');\r\n    favButton.addEventListener('click', async () => {\r\n      await this._favoriteRestaurant.deleteRestaurant(this._restaurant.id);\r\n      return this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default favoriteButtonPresenter;\r\n"],"names":["parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","homePage","favoritePage","detailPage","i","renderPage","mainContent","urlParser","page","routes","render","innerHTML","afterRender","addEventListener","document","querySelector","button","drawer","event","stopPropagation","classList","toggle","toggleDrawer","remove","removeDrawer","buttonEvent","swRegister","key","preventDefault","focus","homePageContent","fetch","restaurantData","json","response","restaurants","detailPageContent","restaurantDetailData","restaurant","postReviews","data","method","headers","body","JSON","stringify","postReview","init","favoriteButtonContainer","favoriteRestaurant","_favoriteButtonContainer","_restaurant","_favoriteRestaurant","_renderButton","_checkRestaurant","_renderRemoveFavorite","_renderAddFavorite","getRestaurant","createAddFavoriteBtnTemplate","putRestaurant","createRemoveFavoriteBtnTemplate","deleteRestaurant"],"sourceRoot":""}